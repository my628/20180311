# 创建启动文件



**目标：** 创建一个启动文件来运行一个复杂的 ROS 2 系统。

**教程级别：** 初学者

**时间：** 10分钟

**内容**



## 背景
  
  在到目前为止的教程中，你一直在为你运行的每个新节点打开新终端。 
  随着你创建具有越来越多同时运行的节点的更复杂的系统，打开终端和重新输入配置细节变得乏味。

  启动文件允许你同时启动和配置多个包含ROS2节点的可执行文件。

  使用```ros2 launch```命令运行单个启动文件将立即启动你的整个系统——所有节点及其配置。
  
  
  
  
## 先决条件
  
  本教程使用rqt_graph和海龟模拟器包。

  你还需要使用你喜欢的文本编辑器。

  与往常一样，不要忘记在你打开的每个新终端中读取并执行ROS2设置文件中的shell文件。
  
  
  
  
## 任务

1. 设置

  创建一个新目录来存储你的启动文件：

  ```bash
  mkdir launch
  ```

  通过在终端中输入以下命令来创建一个名为 turtlesim_mimic_launch.py 的启动文件：

  你还可以使用 GUI 进入系统的文件目录并以这种方式创建一个新文件。

  在你首选的文本编辑器中打开新文件。




2. 编写启动文件

  让我们使用turtlesim包及其可执行文件组合一个ROS 2启动文件。

  将完整代码复制并粘贴到turtlesim_mimic_launch.py 文件中：

  ```python
  from launch import LaunchDescription
  from launch_ros.actions import Node

  def generate_launch_description():
      return LaunchDescription([
          Node(
              package='turtlesim',
              namespace='turtlesim1',
              executable='turtlesim_node',
              name='sim'
          ),
          Node(
              package='turtlesim',
              namespace='turtlesim2',
              executable='turtlesim_node',
              name='sim'
          ),
          Node(
              package='turtlesim',
              executable='mimic',
              name='mimic',
              remappings=[
                  ('/input/pose', '/turtlesim1/turtle1/pose'),
                  ('/output/cmd_vel', '/turtlesim2/turtle1/cmd_vel'),
              ]
          )
      ])
  ```



  1. 审查启动文件

    这些导入语句会引入一些 Python 启动模块。

    ```python
    from launch import LaunchDescription
    from launch_ros.actions import Node
    ```
  
  



## 总结

  启动文件简化了运行具有许多节点和特定配置细节的复杂系统。 您可以使用 Python 创建启动文件，并使用 ros2 launch 命令运行它们。



## 下一步

  > 您还可以使用 XML 和 YAML 来创建启动文件。 
  > 您可以在将 Python、XML 和 YAML 用于 ROS 2 启动文件中查看这些不同 ROS 2 启动格式的比较。

  在下一个教程“记录和回放数据”中，您将了解另一个有用的工具，ros2bag。
